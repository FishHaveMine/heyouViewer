(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={app:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"06ba":function(t,e,i){var n={"./VIP病床睡眠.jpg":"f027","./VIP病房.jpg":"7a87","./VIP病房2.jpg":"10aa","./VIP病房3.jpg":"28c6","./VIP病房客厅.jpg":"8f4c","./VIP病房客厅2.jpg":"b47d","./厕所.jpg":"cef6","./护士站.jpg":"4128","./护士站2.jpg":"ddd7","./护士站3.jpg":"b6c2","./普通病房.jpg":"2970","./普通病房2.jpg":"2a88","./走廊.jpg":"b846","./走廊2.jpg":"7461","./过道.jpg":"5dbb","./过道2.jpg":"6584"};function o(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="06ba"},"10aa":function(t,e,i){t.exports=i.p+"static/img/VIP病房2.fa71a1cf.jpg"},2813:function(t,e,i){},"28c6":function(t,e,i){t.exports=i.p+"static/img/VIP病房3.9fc38bb6.jpg"},2970:function(t,e,i){t.exports=i.p+"static/img/普通病房.c8d0c2ca.jpg"},"2a88":function(t,e,i){t.exports=i.p+"static/img/普通病房2.997b3da0.jpg"},"362d":function(t,e,i){"use strict";i("b069")},"3e04":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"main"},[t.laodIng?i("div",{staticClass:"container"},[i("div",{staticClass:"box"})]):t._e(),i("section",{attrs:{id:"bim"}})])},o=[],a=(i("e9c4"),i("8962")),s=i.n(a),r=null,c=null,l=null,u={name:"bimMain",data:function(){return{laodIng:!0,fileUrl:"",PointerImage:s.a,tags:[{x:9641805.678042006,y:-4200413.990266836,z:-0},{x:9649372.2933332,y:-4192507.9672156367,z:-0},{x:9649515.437618464,y:-4189259.1679078317,z:-0},{x:9646790.548008606,y:-4201220.034246437,z:-0},{x:9650403.255946813,y:-4205060.407342247,z:-0},{x:9660204.344495164,y:-4208040.7229184965,z:-0}],homeView:{name:"persp",position:{x:9633363.722729774,y:-4197000.897667989,z:30737.27778207609},target:{x:9651963.067295482,y:-4201713.290733921,z:-5269.136436623805},up:{x:.8554885024188777,y:-.21674956346459728,z:.4702755032606021},fov:45,zoom:1,version:1,coordinateSystem:"world"}}},mounted:function(){this.fileUrl="http://ioc.smartbuilding.top:9300/990919efbc60b4904d385b81469f4cfd/",this.initBim(this.fileUrl)},methods:{customView:function(){var t=r.getCameraStatus();console.log(JSON.stringify(t)),r.render()},toHide:function(){r.deactivateComponentsById(["10000721764379","0"]),r.render()},bimReLoad:function(){if(document.getElementById("bim")&&(document.getElementById("bim").innerHTML=""),r)try{r.destroy()}catch(t){console.error(t)}r=null,null},initBim:function(t){if(t){var e=new BimfaceSDKLoaderConfig;e.dataEnvType=BimfaceEnvOption.Local,e.sdkPath="".concat(t,"/jssdk"),e.path="".concat(t,"/viewToken.json"),BimfaceSDKLoader.load(e,this.onSDKLoadSucceeded,this.onSDKLoadFailed)}},onSDKLoadSucceeded:function(t){if("3DView"==t.viewType){var e=this,i=document.getElementById("bim"),n=new Glodon.Bimface.Application.WebApplication3DConfig;n.domElement=i;Glodon.Bimface.Application.WebApplication3DEvent;var o=new Glodon.Bimface.Application.WebApplication3D(n);r=o.getViewer(),r.addModel(t),r.toggleContextMenuDisplay(!1);n=new Glodon.Bimface.Plugins.Walkthrough.WalkthroughConfig;n.viewer=r,new Glodon.Bimface.Plugins.Walkthrough.Walkthrough(n),r.addEventListener(Glodon.Bimface.Viewer.Viewer3DEvent.ViewAdded,(function(){e.toHide(),c=new Glodon.Bimface.Plugins.Drawable.DrawableContainerConfig,c.viewer=r,l=new Glodon.Bimface.Plugins.Drawable.DrawableContainer(c),e.initCustom(),r.setCameraStatus(e.homeView),r.render(),e.$eventBus.$emit("refreshHover")})),e.laodIng=!1}},onSDKLoadFailed:function(t){console.log("Failed to load SDK!")},initCustom:function(){for(var t=0;t<this.tags.length;t++){var e=this.tags[t];this.addCusTom(e,t)}},addCusTom:function(t,e){var i=this,n=new Glodon.Bimface.Plugins.Drawable.CustomItemConfig;n.content='<div class="hoverCustomItem hover-target"> <img src="'+s.a+'" class=""/></div>',n.viewer=r,n.worldPosition=t;var o=new Glodon.Bimface.Plugins.Drawable.CustomItem(n);o.onClick((function(t){i.Analyevents(e)})),l.addItem(o)},Analyevents:function(t){this.$router.push("/photoSphere/"+(t+1))}}},d=u,h=(i("bc43"),i("2877")),p=Object(h["a"])(d,n,o,!1,null,null,null);e["default"]=p.exports},4128:function(t,e,i){t.exports=i.p+"static/img/护士站.a9958c45.jpg"},"452c":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("section",{attrs:{id:"main"}},[t._m(0),i("div",{staticClass:"nav"},[i("div",{staticClass:"nav__content"},[i("ul",{staticClass:"nav__list"},[i("li",{staticClass:"nav__list-item",class:{"active-nav":0==t.active},on:{click:function(e){return t.showStep(0)}}},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[t._v("首页")])]),i("li",{staticClass:"nav__list-item",class:{"active-nav":1==t.active},on:{click:function(e){return t.showStep(1)}}},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[t._v("护士站")])]),i("li",{staticClass:"nav__list-item",class:{"active-nav":2==t.active},on:{click:function(e){return t.showStep(2)}}},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[t._v("VIP病房")])]),i("li",{staticClass:"nav__list-item",class:{"active-nav":3==t.active},on:{click:function(e){return t.showStep(3)}}},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[t._v("普通病房")])]),i("li",{staticClass:"nav__list-item",class:{"active-nav":4==t.active},on:{click:function(e){return t.showStep(4)}}},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[t._v("过道")])])])])]),i("div",{staticClass:"section full-height over-hide"},[i("div",{staticClass:"switch-wrap"},[i("keep-alive",[i("router-view")],1)],1)]),i("div",{staticClass:"cursor",attrs:{id:"cursor"}}),i("div",{staticClass:"cursor2",attrs:{id:"cursor2"}}),i("div",{staticClass:"cursor3",attrs:{id:"cursor3"}})])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"cd-header"},[i("div",{staticClass:"header-wrapper"},[i("div",{staticClass:"logo-wrap"},[i("a",{staticClass:"hover-target",attrs:{href:"#"}},[i("span",[t._v("和佑")]),t._v("国际医院")])]),i("div",{staticClass:"nav-but-wrap"},[i("div",{staticClass:"menu-icon hover-target"},[i("span",{staticClass:"menu-icon__line menu-icon__line-left"}),i("span",{staticClass:"menu-icon__line"}),i("span",{staticClass:"menu-icon__line menu-icon__line-right"})])])])])}],s=i("a4b0"),r=i("3e04"),c={name:"App",data:function(){return{active:0}},components:{photoSphere:s["default"],svgmain:r["default"]},mounted:function(){this.initMouse(),this.initPage(),this.setTheHoverCss();var t=this;this.$eventBus.$on("refreshHover",(function(){t.setTheHoverCss()})),this.$eventBus.$on("refreshCursor",(function(){t.initcursor()}))},watch:{$route:function(){this.initcursor()}},methods:{initMouse:function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=null;return function(){var n=arguments,o=this;i||(i=setTimeout((function(){t.apply(o,n),i=null}),e))}}function e(t){i.style.left=t.clientX+"px",i.style.top=t.clientY+"px",n.style.left=t.clientX+"px",n.style.top=t.clientY+"px",o.style.left=t.clientX+"px",o.style.top=t.clientY+"px"}document.getElementsByTagName("body")[0].removeEventListener("mousemove",t(e)),document.getElementsByTagName("body")[0].addEventListener("mousemove",t(e));var i=document.getElementById("cursor"),n=document.getElementById("cursor2"),o=document.getElementById("cursor3")},initcursor:function(){document.getElementById("cursor");var t=document.getElementById("cursor2"),e=document.getElementById("cursor3");t.classList.remove("hover"),e.classList.remove("hover")},setTheHoverCss:function(){console.log("setTheHoverCss");document.getElementById("cursor");var t=document.getElementById("cursor2"),e=document.getElementById("cursor3");function i(i){t.classList.add("hover"),e.classList.add("hover")}function n(i){t.classList.remove("hover"),e.classList.remove("hover")}n();for(var o=document.querySelectorAll(".hover-target"),a=o.length-1;a>=0;a--)s(o[a]);function s(t){t.removeEventListener("mouseover",i),t.removeEventListener("mouseout",n),t.addEventListener("mouseover",i),t.addEventListener("mouseout",n)}},initPage:function(){(function(t){(function(){var t=void 0,e=void 0,i=function(){t=document.querySelector("body"),e=document.querySelector(".menu-icon"),document.querySelectorAll(".nav__list-item"),n()},n=function(){e.addEventListener("click",(function(){return o(t,"nav-active")}))},o=function(t,e){t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)};i()})();t("#switch").on("click",(function(){t("body").hasClass("light")?(t("body").removeClass("light"),t("#switch").removeClass("switched")):(t("body").addClass("light"),t("#switch").addClass("switched"))}))})(jQuery)},showStep:function(t){switch(this.active=t,t){case 0:document.querySelector(".menu-icon").click(),this.$router.push("/");break;case 1:document.querySelector(".menu-icon").click(),this.$router.push("/photoSphere/1");break;case 2:document.querySelector(".menu-icon").click(),this.$router.push("/photoSphere/5");break;case 3:document.querySelector(".menu-icon").click(),this.$router.push("/photoSphere/7");break;case 4:document.querySelector(".menu-icon").click(),this.$router.push("/photoSphere/4");break;default:document.querySelector(".menu-icon").click(),this.$router.push("/");break}}}},l=c,u=(i("68d8"),i("b0a0"),i("2877")),d=Object(u["a"])(l,o,a,!1,null,"d446f30e",null),h=d.exports,p=(i("d3b7"),i("3ca3"),i("ddb0"),i("8c4f"));n["a"].use(p["a"]);var f=[{path:"/",name:"index",component:function(){return Promise.resolve().then(i.bind(null,"3e04"))}},{path:"/photoSphere/:id",name:"photoSphere",component:function(){return Promise.resolve().then(i.bind(null,"a4b0"))}}],m=function(){return new p["a"]({scrollBehavior:function(){return{y:0}},routes:f})},v=m(),g=v;n["a"].config.productionTip=!1,n["a"].prototype.$eventBus=new n["a"],new n["a"]({router:g,render:function(t){return t(h)}}).$mount("#app")},"5dbb":function(t,e,i){t.exports=i.p+"static/img/过道.09375b20.jpg"},6584:function(t,e,i){t.exports=i.p+"static/img/过道2.8962cee2.jpg"},"68d8":function(t,e,i){"use strict";i("c99d")},7105:function(t,e,i){},7461:function(t,e,i){t.exports=i.p+"static/img/走廊2.b960730f.jpg"},"7a87":function(t,e,i){t.exports=i.p+"static/img/VIP病房.ba7c0097.jpg"},8962:function(t,e){t.exports="data:image/png;base64,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"},"8ecc":function(t,e,i){"use strict";i("7105")},"8f4c":function(t,e,i){t.exports=i.p+"static/img/VIP病房客厅.702d7cdb.jpg"},a4b0:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"main"}},[i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{title:t.title},on:{close:t.onClose,cancel:t.onCancel,ok:t.onConfirm}},[[i("iframe",{staticClass:"dialogiframe",attrs:{src:"http://kong.midea.com/"}})]],2),t.showPhotoView?i("div",{attrs:{id:"viewerList"}},t._l(t.photoViewList,(function(t,e){return i("div",{key:e,staticClass:"viewerItem",attrs:{id:"viewer"+t.id}})})),0):i("div",{attrs:{id:"viewer"}})],1)},o=[],a=i("b85c"),s=(i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("159b"),i("a9e3"),i("9911"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-dialog-mask"},[i("div",{staticClass:"m-modal"},[i("div",{staticClass:"m-modal-content"},[i("div",{staticClass:"u-close",on:{click:t.onClose}},[t._v("✖")]),i("div",{staticClass:"m-modal-header"},[i("div",{staticClass:"u-head"},[t._v(t._s(t.title))])]),i("div",{staticClass:"m-modal-body"},[t._t("default")],2)])])])}),r=[],c={name:"Dialog",props:{title:{type:String,default:"提示"},content:{type:String,default:""},cancelText:{type:String,default:"取消"},okText:{type:String,default:"确定"},footer:{type:Boolean,default:!0}},methods:{onClose:function(){this.$emit("close")},onCancel:function(){this.$emit("cancel")},onConfirm:function(){this.$emit("ok")}}},l=c,u=(i("362d"),i("2877")),d=Object(u["a"])(l,s,r,!1,null,"b5193776",null),h=d.exports,p=i("e368"),f=(i("0ca4"),i("245f")),m=(i("acb1"),{1:[{name:"气动物流",point:{latitude:-.05439793317009767,longitude:5.071138050249668},type:"photoView",link:[{id:10,url:"走廊2.jpg"},{id:11,url:"护士站.jpg"}]},{name:"护士站",point:{latitude:-.037179445585654,longitude:6.145758870030695},type:"dialog"},{name:"走廊",point:{latitude:-.04183231968029966,longitude:.4797076921594177},type:"dialog"}],10:[{name:"天花管线看样区",point:{latitude:.5003457822003439,longitude:1.6570352468805094},type:"dialog"}],11:[{name:"轨道运输",point:{latitude:-.08546180661637015,longitude:2.0810044509078365},type:"dialog"},{name:"气动物流",point:{latitude:-.17624183166984664,longitude:2.6398135839882606},type:"dialog"}]}),v={markerData:m},g={name:"photoSphere",data:function(){return{step1:i("ddd7"),step2:i("b6c2"),step3:i("4128"),step4:i("6584"),step5:i("2970"),step6:i("28c6"),step7:i("2970"),stepVIew:null,viewer:null,showDialog:!1,showPhotoView:!1,photoViewList:[],photoViewObj:new Map,photoViewMarkersP:new Map,title:""}},components:{Dialog:h},watch:{$route:function(t){"photoSphere"==t.name&&(console.log(t),this.init())}},mounted:function(){this.init()},methods:{onDialog:function(t){this.content="Content of the modal ...",this.showDialog=!0},onClose:function(){this.showDialog=!1},onCancel:function(){this.showDialog=!1},onConfirm:function(){this.showDialog=!1},init:function(){if(this.photoViewList&&this.photoViewList.forEach((function(t){try{var e=document.querySelector("#viewer"+t.id);e&&e.removeChild(e.childNodes[0])}catch(i){}})),this.photoViewMarkersP){var t,e=Object(a["a"])(this.photoViewMarkersP.keys());try{for(e.s();!(t=e.n()).done;){var i=t.value,n=this.photoViewMarkersP.get(i);try{n.clearMarkers()}catch(o){console.error(o)}}}catch(s){e.e(s)}finally{e.f()}}this.showDialog=!1,this.showPhotoView=!1,this.photoViewList=[],this.photoViewObj=new Map,this.photoViewMarkersP=new Map;try{this.markersPlugin.clearMarkers()}catch(o){}if(!this.$route.params.id)return this.stepVIew=this.step1,this.initPhotoSphere(),!1;switch(Number(this.$route.params.id)){case 1:this.stepVIew=this.step1;break;case 2:this.stepVIew=this.step2;break;case 3:this.stepVIew=this.step3;break;case 4:this.stepVIew=this.step4;break;case 5:this.stepVIew=this.step5;break;case 6:this.stepVIew=this.step6;break;case 7:this.stepVIew=this.step7;break;default:this.stepVIew=this.step1;break}this.viewer?this.changeImage(this.stepVIew):this.initPhotoSphere()},markerClick:function(t){var e=this;if(this.$eventBus.$emit("refreshCursor"),"photoView"==t.data.type){var i=document.querySelector("#viewer");i&&(i.removeChild(i.childNodes[0]),this.viewer=null),this.showPhotoView=!0,this.photoViewList=t.data.link,this.$nextTick((function(){e.initMarkerPhoto()}))}"dialog"==t.data.type&&(this.title=t.data.name,this.showDialog=!0)},initMarkerPhoto:function(){var t=this;t.photoViewList.forEach((function(e){var n=i("06ba")("./"+e.url),o=new p["Viewer"]({container:document.querySelector("#viewer"+e.id),panorama:n,mousewheel:!1,fisheye:1,size:{width:"100%",height:"100%"},plugins:[[f["MarkersPlugin"],{markers:[]}]],navbar:["autorotate","zoom","markers","caption","fullscreen"]}),a=o.getPlugin(f["MarkersPlugin"]);a.on("select-marker",(function(e,i){t.markerClick(i)})),t.photoViewObj.set(e.id,o),t.photoViewMarkersP.set(e.id,a),o.on("click",(function(t,e){console.log(e)})),o.once("ready",(function(){t.initTheMarker(e.id)}))}))},initPhotoSphere:function(){if(console.log("initPhotoSphere"),!this.stepVIew)return!1;var t=this;this.$nextTick((function(){t.viewer=new p["Viewer"]({container:document.querySelector("#viewer"),panorama:t.stepVIew,mousewheel:!1,fisheye:1,size:{width:"100%",height:"100%"},plugins:[[f["MarkersPlugin"],{markers:[]}]],navbar:["autorotate","zoom","markers","caption","fullscreen"]}),t.markersPlugin=t.viewer.getPlugin(f["MarkersPlugin"]),t.markersPlugin.on("select-marker",(function(e,i){t.markerClick(i)})),t.viewer.once("ready",(function(){t.initTheMarker()}))}))},initTheMarker:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("initTheMarker:"+t);try{this.markersPlugin.clearMarkers()}catch(s){}try{if(this.photoViewMarkersP&&this.photoViewMarkersP.get(t)){var e=this.photoViewMarkersP.get(t);e.clearMarkers()}}catch(s){}var i=t?v.markerData[t]:v.markerData[this.$route.params.id];if(!i)return!1;for(var n=0;n<i.length;n++){var o=i[n];if(this.setMarker(o,n,t),t&&0==n){var a=this.photoViewObj.get(t);a.animate({longitude:o.point.longitude,latitude:o.point.latitude,speed:"-2rpm"})}}this.$eventBus.$emit("refreshHover")},setMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t&&!t.point)return!1;var n="marker".concat(+new Date)+e,o={id:n,data:t,html:'<div class="hover-target"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="patterns"><circle class="loading-circle-1" cx="50" cy="25" r="10" stroke="#12507bc4" fill="#224e7f" /></svg></div>',svgStyle:{},longitude:t.point.longitude,latitude:t.point.latitude,anchor:"center center",tooltip:{content:'\n              <div class="marker-tooltip-container">\n                <p class="marker-title">\n                  '+t.name+"\n                </p>\n              </div>\n            ",position:"center top"},visible:!0,type:"marker",status:1,isInitialize:!0,attachment:{type:"img",imgArr:[],videoArr:[]}};if(i){var a=this.photoViewMarkersP.get(i);console.log(a),a.addMarker(o)}else this.markersPlugin.addMarker(o)},changeImage:function(t){var e=this;this.viewer.setPanorama(t,{},!0).then((function(){e.initTheMarker()}))}}},w=g,y=(i("8ecc"),Object(u["a"])(w,n,o,!1,null,null,null));e["default"]=y.exports},b069:function(t,e,i){},b0a0:function(t,e,i){"use strict";i("452c")},b47d:function(t,e,i){t.exports=i.p+"static/img/VIP病房客厅2.db538976.jpg"},b6c2:function(t,e,i){t.exports=i.p+"static/img/护士站3.bf35e34d.jpg"},b846:function(t,e,i){t.exports=i.p+"static/img/走廊.328e2f62.jpg"},bc43:function(t,e,i){"use strict";i("2813")},c99d:function(t,e,i){},cef6:function(t,e,i){t.exports=i.p+"static/img/厕所.90dea438.jpg"},ddd7:function(t,e,i){t.exports=i.p+"static/img/护士站2.c89084a1.jpg"},f027:function(t,e,i){t.exports=i.p+"static/img/VIP病床睡眠.a39a5131.jpg"}});
//# sourceMappingURL=app.acf7f2a0.js.map